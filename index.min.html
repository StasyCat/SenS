<!DOCTYPE html><title>SenS!</title><meta charset=UTF-8><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta content=いわゆる音ゲーです name=description><meta content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"name=viewport><meta content="omasakun Kai"name=author><link href=https://fonts.googleapis.com/earlyaccess/notosansjapanese.css id=gwebfont1><link href="https://fonts.googleapis.com/css?family=Open+Sans|Open+Sans+Condensed:300|Quicksand:300|Raleway:200"id=gwebfont2>
<script>
console.info("Keys/nSDF_JKL: あれ/n** Making Only **/nShift: Remove node/assist/nCtrl: Assistに従う/nWERBUIO: Long node/n[other]: Assist node/nN: Pause/nM: Restart/nEnter: Finish/nC: Speed down/nV: Speed up/nZ: 0.5秒戻る/nX: 0.5秒進む/n1: BPM測定開始,計測/n2: BPM測定終了(offsetに使われるので、タイミングは慎重に)/n3: Init BPM measure/nBackspace: Clear nodes/nConsoleで、MakingBPMmeasure.Fit2BPMを変えることにより、ノードを合わせるかを変えられる");
function d(a){return document.getElementById(a)}
function aa(){d("song").addEventListener("click",function(a){a.preventDefault&&a.preventDefault();g(d("detail"));h(d("selectsong"));l()});d("speed").addEventListener("click",function(a){a.preventDefault&&a.preventDefault();a=parseFloat((prompt("\u697d\u8b5c\u304c\u843d\u3061\u308b\u30b9\u30d4\u30fc\u30c9\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059(0.5~5.0\u500d)...")||"").replace(/[^0-9\.]+/g,""));isNaN(a)||(d("speed").innerText="Speedx"+Math.min(5,Math.max(.5,(10*a<<0)/10)).toFixed(1),d("speed").setAttribute("speed",
""+Math.min(5,Math.max(.5,(10*a<<0)/10))),p())});d("min").addEventListener("click",function(a){a.preventDefault&&a.preventDefault();a=parseFloat((prompt("\u30b2\u30fc\u30e0\u3092\u4f55\u5206\u9593\u3059\u308b\u304b\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059...")||"").replace(/[^0-9\.]+/g,""));isNaN(a)||(r=a=60*(10*Math.max(1,a)<<0)/10*1E3,d("min").innerText=(a/6E4).toFixed(1)+"min")});d("name").addEventListener("click",function(a){a.preventDefault&&a.preventDefault();"_"!=d("name").getAttribute("can")?
alert("\u3082\u3046\u8ffd\u52a0\u6e08\u307f\u3067\u3059\u306e\u3067\u8ffd\u52a0\u3067\u304d\u306a\u3044\u3093\u3067\u3059\u3088\u3002\u307e\u3042\u3001\u8a31\u3057\u3066\u3084\u3063\u3066\u304f\u3060\u3055\u3044"):(a=prompt("\u30e9\u30f3\u30ad\u30f3\u30b0\u3078\u540d\u524d\u3068\u3068\u3082\u306b\u767b\u9332\u3067\u304d\u307e\u3059..."),null!=a&&(d("name").setAttribute("can","#"),d("name").innerText=a+" Adding...",ba(a)))});d("se").addEventListener("click",function(a){a.preventDefault&&a.preventDefault();
ca(d("se").classList.contains("unselbtn"))});d("line").addEventListener("click",function(a){a.preventDefault&&a.preventDefault();da(d("line").classList.contains("unselbtn"))});d("effect").addEventListener("click",function(a){a.preventDefault&&a.preventDefault();ea(d("effect").classList.contains("unselbtn"))});t("songs.js",function(){window.SongList=window.SongList.map(function(a){a.Title+=" Lv."+a.Level;return a});window.SongList=window.SongList.sort(function(a,b){return a.Title<b.Title?-1:a.Title>
b.Title?1:0});l();fa()});setTimeout(function(){u()},500)}function u(){v("Song/Speed",["game","menu"]);d("next").addEventListener("click",function b(c){c.preventDefault&&c.preventDefault();d("next").classList.contains("activebtn")&&(d("next").removeEventListener("click",b),ga())});d("game").classList.add("blur");p()}function p(){"_"!=d("song").getAttribute("song")?(ha(d("next")),d("next").classList.add("blink"),w=!1,x=3E3/parseFloat(d("speed").getAttribute("speed")),y(),w=!0):ia(d("next"))}
function fa(){d("tags").innerHTML="";var a={};window.SongList.forEach(function(b){a[b.Level]=1});Object.keys(a).forEach(function(a){var b=document.createElement("li");b.innerText=a;b.addEventListener("click",function(a){a.preventDefault&&a.preventDefault();b.classList.contains("selbtn")?b.classList.remove("selbtn"):b.classList.add("selbtn");l()});d("tags").appendChild(b)});d("tags-name").innerText="Level"}
function l(){function a(a,b){var c=document.createElement("li");c.innerText=a.Title;c.addEventListener("click",function(c){c.preventDefault&&c.preventDefault();d("song").innerText=a.Title;d("song").setAttribute("song",b);p();g(d("selectsong"));h(d("detail"))});d("songlist").appendChild(c)}for(var b=d("tags").children,c=[],e=0;e<b.length;e++){var f=b.item(e);f.classList.contains("selbtn")&&c.push(f.innerText)}d("songlist").innerHTML="";0==c.length?window.SongList.forEach(a):window.SongList.forEach(function(b,
e){c.some(function(a){return a==b.Level})&&a(b,e)})}function ga(){v(d("song").innerText,["game","gameback","prev"],function(){w=!1;y()});d("prev").addEventListener("click",z)}function z(a){a.preventDefault&&a.preventDefault();d("prev").removeEventListener("click",z);A.currentTime=A.duration;u()}
function ja(){v("Result "+(1E6*B/C<<0)/1E4+"pt",["fin","prev"]);d("name").setAttribute("can","_");d("name").innerText="Enter your name...";d("prev").removeEventListener("click",z);d("prev").addEventListener("click",function b(c){c.preventDefault&&c.preventDefault();d("prev").removeEventListener("click",b);u()});ka()}var D=[];
function ka(){var a=d("rankinglist");a.innerText="Loading...";la(function(b){a.innerHTML="";D=b.sort(function(a,b){return b.p-a.p});D.forEach(function(b,e){var c=document.createElement("li");c.innerHTML='<span class="rank">#'+(e+1)+'</span><span class="score">'+b.p/1E4+'pt</span><span class="time">'+(b.t/6E4).toFixed(1)+'min</span><span class="name">'+b.n+"</span>";a.appendChild(c)})})}
function ba(a){ma(window.SongList[parseInt(d("song").getAttribute("song"),10)].File,{p:1E6*B/C<<0,n:a,t:r},function(){d("name").innerText=a+" Added!";D.push({p:1E6*B/C<<0,n:a,t:r});D=D.sort(function(a,b){return b.p-a.p});var b=d("rankinglist");b.innerHTML="";D.forEach(function(a,e){var c=document.createElement("li");c.innerHTML='<span class="rank">#'+(e+1)+'</span><span class="score">'+a.p/1E4+'pt</span><span class="time">'+(a.t/6E4).toFixed(1)+'min</span><span class="name">'+a.n+"</span>";b.appendChild(c)})})}
function E(a,b){var c=this;this.m=b;if(a.getContext)this.g=a.getContext("2d");else throw"Canvas\u304c\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059";this.i=this.h=1;var e=this;(function(a){var b=!1;window.addEventListener("resize",function(){!1!==b&&clearTimeout(b);b=setTimeout(a,100)})})(function(){return c.v.call(e)});this.v()}
function na(){var a=F,b=G,c=a.g.canvas;a.h=(b||window.devicePixelRatio||1)*a.m.clientWidth;a.i=(b||window.devicePixelRatio||1)*a.m.clientHeight;c.width=a.h<<0;c.height=a.i<<0;a.g.lineWidth=b||window.devicePixelRatio||1;console.log("DPR: "+b+"/"+(window.devicePixelRatio||1))}
E.prototype.v=function(){var a=this.g.canvas;this.h=(window.devicePixelRatio||1)*this.m.clientWidth;this.i=(window.devicePixelRatio||1)*this.m.clientHeight;a.width=this.h<<0;a.height=this.i<<0;a.style.width=this.m.clientWidth+"px";a.style.height=this.m.clientHeight+"px";this.g.lineWidth=window.devicePixelRatio||1};
function H(a){var b=F;b.g.beginPath();a=a();"Fill"in a&&(b.g.fillStyle!=a.Fill&&(b.g.fillStyle=a.Fill),b.g.fill());"Stroke"in a&&(b.g.strokeStyle!=a.Stroke&&(b.g.strokeStyle=a.Stroke),b.g.stroke())}function I(a,b,c,e){var f=F;f.g.moveTo(a*f.h<<0,b*f.i<<0);f.g.lineTo(c*f.h<<0,e*f.i<<0)}E.prototype.Rect=function(a,b,c,e){this.g.rect(a*this.h<<0,b*this.i<<0,c*this.h<<0,e*this.i<<0)};function J(a,b){var c=F;c.g.arc(a*c.h<<0,b*c.i<<0,.5/K.length*Math.min(c.h,c.i)<<0,-.5*Math.PI,2*Math.PI)}
var L=[83,68,70,32,74,75,76],oa=[87,69,82,66,85,73,79],M=1,A=new Audio,N=[],O=!1;function ca(a){if(O=a){if(d("se").classList.remove("unselbtn"),d("se").classList.add("selbtn"),d("se").innerText="SE-O",0==N.length)for(N=[],a=0;50>a;a++){var b=new Audio("Tap.mp3");b.w="auto";b.volume=.2;N.push(b)}}else d("se").classList.add("unselbtn"),d("se").classList.remove("selbtn"),d("se").innerText="SE-X"}var P=!1;
function da(a){(P=a)?(d("line").classList.remove("unselbtn"),d("line").classList.add("selbtn"),d("line").innerText="Line-O"):(d("line").classList.add("unselbtn"),d("line").classList.remove("selbtn"),d("line").innerText="Line-X")}var pa=!0;function ea(a){(pa=a)?(d("effect").classList.remove("unselbtn"),d("effect").classList.add("selbtn"),d("effect").innerText="Effect-O"):(d("effect").classList.add("unselbtn"),d("effect").classList.remove("selbtn"),d("effect").innerText="Effect-X")}
var qa=!1,F=void 0,K=[{l:0,j:0,b:[{a:[],c:{f:!1}}]}],Q=!1,w=!1,ra="",R=0,r=Infinity,x=5E3,C=0,B=0;function S(a){B=a;d("score").innerText=(1E6*a/C<<0)/1E4+"pt\n"+T+"combo"}var U=0,T=0,sa=0,V=[];
function y(){K=void 0;K=[];L.forEach(function(){return K.push({l:0,j:0,b:[]})});w&&window.SongList[parseInt(d("song").getAttribute("song"),10)].Music==ra||(ra=window.SongList[parseInt(d("song").getAttribute("song"),10)].Music,A.src="musics/"+window.SongList[parseInt(d("song").getAttribute("song"),10)].Music);t("datas/"+window.SongList[parseInt(d("song").getAttribute("song"),10)].File+".js",function(){A.currentTime=0;V=[];qa&&(A.playbackRate=1);S(0);T=0;R=Infinity;window.NodeText.split(" ").forEach(function(a){a=
a.split(":").map(function(a){return parseInt(a,10)});switch(a.length){case 1:Q||(R=a[0]);break;case 2:K[a[0]].b.push({a:a.slice(1),c:{f:!1}});break;case 3:K[a[0]].b.push({a:a.slice(1),c:{f:!1,o:!1}})}});R>r&&(R=r,K.forEach(function(a){a.b=a.b.filter(function(a){return a.a[0]<R})}));window.NodeText="";C=0;K.forEach(function(a){a.b.forEach(function(a){C+=a.a.length})});C=5>C?C*(C+1)/2:5*C-10;C*=1E3;K.forEach(function(a){a.b=a.b.sort(function(a,c){return a.a[0]-c.a[0]})});A.play();A.paused?(ta("Tap here!"),
d("title").addEventListener("click",function(a){a.preventDefault&&a.preventDefault();A.play()})):A.play();0==U&&(U++,ua())})}
function ua(){if(1<U)U--;else if(1E3*A.currentTime>R&&d("fin").classList.contains("fading2"))U--,w?y():ja();else{va();var a=1E3*A.currentTime;F.g.clearRect(0,0,F.h,F.i);F.g.globalCompositeOperation="lighter";P&&H(function(){I(0,.8,1,.8);return{Stroke:"hsl("+(60*K[(K.length-1)/2<<0].l+60)+","+(100*Math.min(.8,K[(K.length-1)/2<<0].j)+20)+"%,"+(25*Math.min(.4,K[(K.length-1)/2<<0].j)+50)+"%)"}});K.forEach(function(b,c){b.j*=.95;b.l*=.95;var e="hsl("+(60*b.l+60)+","+(100*Math.min(.8,b.j)+20)+"%,"+(25*
Math.min(.4,b.j)+50)+"%)",f="hsl("+(60*b.l+60)+","+(100*Math.min(.8,b.j)+10)+"%,"+(25*Math.min(.4,b.j)+50)+"%)",k=1/K.length*(c+.5),q=.5/K.length*(F.h>F.i?1:F.h/F.i);pa?(F.g.globalAlpha=1-.8*b.j,H(function(){var a=Math.min(.8,b.j)/.8*.5*Math.min(F.h,F.i)/K.length*3+1,a=a<<0;F.g.rect((k*F.h<<0)-(a/2<<0),0,a,(.8-q)*F.i<<0);return{Fill:e}}),F.g.globalAlpha=1,H(function(){J(k,.8);return{Stroke:e}})):H(function(){I(k,0,k,.8-q);J(k,.8);return{Stroke:e}});b.b.some(function(c){switch(c.a.length){case 1:var e=
Math.pow(1-(c.a[0]-a)/x,5)*(.8+q)-q;if(e<-q)return!Q;if(e>1+q){w||c.c.f||Q||(c.c.f=!0,T=0,S(B+-100));break}.8<e&&!c.c.f&&w&&(c.c.f=!0,O&&W(),b.j=1);!Q&&c.c.f||H(function(){J(k,e);return c.c.f?{Stroke:f}:{Fill:f}});P&&H(function(){I(0,e,1,e);return{Stroke:f}});break;case 2:var m=Math.pow(1-(c.a[0]-a)/x,5)*(.8+q)-q,n=Math.pow(1-(c.a[1]-a)/x,5)*(.8+q)-q;if(m<-q)return!Q;n>1+q?w||c.c.f||Q||(c.c.f=!0,T=0,S(B+-100)):(.8<n&&!c.c.f?w&&(c.c.f=!0,O&&W(),b.j=1):.8<m&&!c.c.o&&w&&(c.c.o=!0,O&&W(),b.j=1),!Q&&c.c.f||
H(function(){var a=m-n,b=F,c=.5/K.length;b.g.arc(k*b.h<<0,n*b.i<<0,c*Math.min(b.h,b.i)<<0,-Math.PI,0);b.g.arc(k*b.h<<0,(n+a)*b.i<<0,c*Math.min(b.h,b.i)<<0,0,-Math.PI);b.g.lineTo(k*b.h-c*Math.min(b.h,b.i)<<0,n*b.i<<0);return{Fill:f}}),P&&H(function(){I(0,m,1,m);I(0,n,1,n);return{Stroke:f}}))}return!1})});requestAnimationFrame(ua)}}
function X(a,b,c){if(!w){var e=1E3*A.currentTime;if(Q||!A.paused){var f=L.some(function(f,k){if(f==b){if(Q&&c.u){if(!a){var m=-1;var n=Infinity;K[0].b.forEach(function(a,b){a.c.f&&1==a.a.length&&Math.abs(e-a.a[0])<Math.abs(n)&&(m=b,n=e-a.a[0])});0<=m&&(K[k].b.push({a:[K[0].b[m].a[0]],c:{f:!1}}),c.s&&K[0].b.splice(m,1))}}else if(Q&&!c.s)a||K[k].b.push({a:[e<<0],c:{f:!1}});else if(m=-1,n=Infinity,K[k].b.forEach(function(b,c){var f=Infinity;switch(b.a.length){case 1:a||b.c.f||(f=e-b.a[0]);break;case 2:a&&
b.c.o?f=e-b.a[1]:a||b.c.o||(f=e-b.a[0])}Math.abs(f)<Math.abs(n)&&(m=c,n=f)}),Q)0<=m&&!a&&K[k].b.splice(m,1);else if(0<=m&&150>Math.abs(n)){switch(K[k].b[m].a.length){case 1:K[k].b[m].c.f=!0;case 2:a?K[k].b[m].c.f=!0:K[k].b[m].c.o=!0}K[k].l=-Math.abs(Math.sign(Math.sign(n)*(Math.max(Math.abs(n),30)-30)));K[k].j=1;T++;S(B+Math.min(T+1,5)*((1/Math.pow((Math.max(Math.abs(n),30)-30)/120*.5+.5,2)-1)/3*500+500)<<0);qa&&(0>K[k].l?M+=.02:0<K[k].l&&(M-=.02),M=Math.min(1.5,Math.max(.5,M)),A.playbackRate=Math.min(1.5,
Math.max(.5,A.playbackRate-(A.playbackRate-M)/10)))}return!0}});if(Q&&!f&&(f=oa.some(function(c,f){if(c==b)return a?K[f].b[wa[f]].a[1]=e<<0:(K[f].b.push({a:[e<<0,e+1E4<<0],c:{f:!1,o:!1}}),wa[f]=K[f].b.length-1),!0}),!f)){if(a)return;if(c.s){var k=-1,q=Infinity;K[0].b.forEach(function(a,b){a.c.f&&1==a.a.length&&Math.abs(e-a.a[0])<Math.abs(q)&&(k=b,q=e-a.a[0])});0<=k&&K[0].b.splice(k,1)}else K[0].b.push({a:[e<<0],c:{f:!0}});f=!0}O&&f&&!a&&W()}}}
function xa(){N=[];A=new Audio;A.w="auto";A.onended=function(){A.currentTime=0;w?y():ja()};F=new E(d("c1"),d("game"));Y.f=[];wa=Array(oa.length);L.forEach(function(a){return Y.f[a]=!1});document.onkeydown=function(a){a||(a=window.event);if(Q)switch(a.keyCode){case 78:if(isUp)return;A.pause();case 77:if(isUp)return;A.play();case 13:R=1E3*A.currentTime;(function(){K.forEach(function(a,b){var c=[],e=a.b.sort(function(a,b){return a.a[0]-b.a[0]});e.forEach(function(a,f){0==f||1!=a.a.length||50<Math.abs(e[f-
1].a[0]-a.a[0])?(c.push(b+":"+a.a.join(":")),0!=f&&100>Math.abs(e[f-1].a[0]-a.a[0])&&console.log("?: "+e[f-1].a[0]+":"+a.a[0])):console.warn(e[f-1].a[0]+":"+a.a[0])})})})();console.log("--DATA--");var b=[];K.forEach(function(a,c){var e=[];a.b.sort(function(a,b){return a.a[0]-b.a[0]}).forEach(function(a){a.c.f||e.push(c+":"+a.a.join(":"))});b.push(e.join(" "))});b.push(R<<0);console.log('NodeText = "'+b.join(" ")+'";');return;case 67:A.playbackRate=Math.min(4,Math.max(.2,A.playbackRate-.05));console.log("Speed: "+
A.playbackRate);return;case 86:A.playbackRate=Math.min(4,Math.max(.2,A.playbackRate+.05));console.log("Speed: "+A.playbackRate);return;case 90:A.currentTime=Math.max(0,A.currentTime-.5);console.log("Time: "+A.currentTime);return;case 88:A.currentTime=Math.max(0,A.currentTime+.5);console.log("Time: "+A.currentTime);return;case 49:0==V.length&&(sa=A.currentTime,console.log("Start BPM measureing.","startTime:"+sa));V.push(A.currentTime);return;case 50:if(0<V.length){var c=(A.currentTime-sa)/V.length/
4;a=V.reduce(function(a,b){return a+b%c})/V.length;console.log("BPM measured.","BPM:"+1/c*60,"Offset: "+a);console.log(c,a);for(var e=0;e*c+a<A.duration;)K[0].b.push({a:[1E3*(e*c+a)<<0],c:{f:!0}}),e++}return;case 51:V=[];return;case 8:for(a=0;a<K.length;a++)K[a].b=[];return}if(!Y[a.keyCode]&&(Y[a.keyCode]=!0,X(!1,a.keyCode,{s:a.shiftKey,u:a.ctrlKey}),Q&&(a.shiftKey||a.ctrlKey)))if(a.preventDefault)a.preventDefault();else return a.keyCode=0,!1};document.onkeyup=function(a){a||(a=window.event);if(Y[a.keyCode]&&
(Y[a.keyCode]=!1,X(!0,a.keyCode,{s:a.shiftKey,u:a.ctrlKey}),Q&&(a.shiftKey||a.ctrlKey)))if(a.preventDefault)a.preventDefault();else return a.keyCode=0,!1};F.g.canvas.addEventListener("touchstart",function(a){a.preventDefault();a||(a=window.event);for(var b=0;b<a.changedTouches.length;b++)X(!1,L[a.changedTouches.item(b).clientX/(F.m.clientWidth/L.length)<<0],{s:!1,u:!1})});F.g.canvas.addEventListener("touchend",function(a){a.preventDefault();a||(a=window.event);for(var b=0;b<a.changedTouches.length;b++)X(!0,
L[a.changedTouches.item(b).clientX/(F.m.clientWidth/L.length)<<0],{s:!1,u:!1})})}function W(){for(var a=0;a<N.length;a++)if(N[a].paused){N[a].play();return}console.warn("Need more SE")}
var Y={f:{}},wa=[],ya=[function(a){return 50>a?console.log("FPS<50 "+a):0},function(a){40>a&&.5<G&&(G*=.8,G=Math.min(window.devicePixelRatio||1,Math.max(window.devicePixelRatio/3,G)),na());55<a&&G<(window.devicePixelRatio||1)&&(G+=((window.devicePixelRatio||1)-G)/3+.2,G=Math.min(window.devicePixelRatio||1,Math.max(window.devicePixelRatio/3,G)),na())}],G=window.devicePixelRatio||1,za=0,Z=-1,Aa=60;
function va(){0>Z&&(za=performance.now());Z++;if(0==Z%300){var a=performance.now();Z=0;Aa=1E3/(a-za)*300<<0;za=a;ya.forEach(function(a){return a(Aa)})}}
function ta(a){var b=b||function(){return 0};var c=d("title");c.addEventListener("webkitAnimationEnd",function f(){c.classList.contains("fading1")?(c.innerText=a,c.classList.remove("fading1"),c.classList.add("fading2"),setTimeout(function(){c.classList.remove("fading2");c.classList.add("fading3")},0)):(c.classList.remove("fading3"),c.removeEventListener("webkitAnimationEnd",f),b())});c.classList.add("fading1")}
function g(a,b){b=b||function(){return 0};a.classList.contains("fading2")?b():(a.addEventListener("webkitAnimationEnd",function e(){a.classList.remove("fading1");a.classList.add("fading2");a.removeEventListener("webkitAnimationEnd",e);b()}),a.classList.add("fading1"))}
function h(a,b){b=b||function(){return 0};a.classList.contains("fading2")?(a.addEventListener("webkitAnimationEnd",function e(){a.classList.remove("fading3");a.removeEventListener("webkitAnimationEnd",e);b()}),a.classList.remove("fading2"),a.classList.add("fading3")):b()}function ha(a){a.classList.remove("deactivebtn");a.classList.add("activebtn")}function ia(a){a.classList.remove("activebtn");a.classList.add("deactivebtn")}
function v(a,b,c){function e(){f++;4==f&&c()}ta(a||"");c=c||function(){return 0};var f=0;["menu","game","gameback","fin"].forEach(function(a){0>b.indexOf(a)?g(d(a),e):h(d(a),e)});["prev","next"].forEach(function(a){0>b.indexOf(a)?ia(d(a)):ha(d(a))});["next"].forEach(function(a){0>b.indexOf(a+"-Blink")?d(a).classList.remove("blink"):d(a).classList.add("blink")});d("game").classList.remove("blur")}
function t(a,b){var c=!1,e=document.getElementsByTagName("head")[0],f=document.createElement("script");f.src=a;e.appendChild(f);f.onload=f.onreadystatechange=function(){c||f.readyState&&"loaded"!==f.readyState&&"complete"!==f.readyState||(c=!0,b(),f.onload=f.onreadystatechange=null,e&&f.parentNode&&e.removeChild(f))}}function Ba(){var a={};location.search.substring(1).split("&").forEach(function(b){b=b.split("=");a[b[0]]=b[1]});return a}
function Ca(){var a=new Date;return a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}var Da=[];
function la(a){var b=window.SongList[parseInt(d("song").getAttribute("song"),10)].File;t("https://script.google.com/macros/s/AKfycbz1JaRk2i_VtBEmFUyyMecyg04kEi2ccXn9rVNxiKQjCufpWlWA/exec?type=GetTitle&prefix=MyStorage.LoadedTitleList",function(){var c=(void 0).findIndex(function(a){return a==b});0>c?a([]):t("https://script.google.com/macros/s/AKfycbz1JaRk2i_VtBEmFUyyMecyg04kEi2ccXn9rVNxiKQjCufpWlWA/exec?ID="+c+"&prefix=MyStorage.LoadedRankList",function(){a(Da)})})}
function ma(a,b,c){t("https://script.google.com/macros/s/AKfycbz1JaRk2i_VtBEmFUyyMecyg04kEi2ccXn9rVNxiKQjCufpWlWA/exec?type=GetTitle&prefix=MyStorage.LoadedTitleList",function(){var e=(void 0).findIndex(function(b){return b==a});0>e?t("https://script.google.com/macros/s/AKfycbz1JaRk2i_VtBEmFUyyMecyg04kEi2ccXn9rVNxiKQjCufpWlWA/exec?type=AddTitle&Title="+encodeURIComponent(a)+"&Text="+encodeURIComponent(JSON.stringify(b)),function(){c()}):t("https://script.google.com/macros/s/AKfycbz1JaRk2i_VtBEmFUyyMecyg04kEi2ccXn9rVNxiKQjCufpWlWA/exec?type=AddRank&ID="+
e+"&Text="+encodeURIComponent(JSON.stringify(b)),function(){c()})})}window.performance=window.performance||{};window.performance.now=window.performance.now||function(){return(new Date).getTime()};window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;
window.addEventListener("load",function(){try{document.documentElement.requestFullscreen()}catch(b){}var a=Ba();Q="making"in a;ca("se"in a);da("line"in a);ea(!("noeffect"in a));"speed"in a&&(x=a.speed);qa="fit"in a;xa();aa();t("https://script.google.com/macros/s/AKfycbz1JaRk2i_VtBEmFUyyMecyg04kEi2ccXn9rVNxiKQjCufpWlWA/exec?type=AddRank&ID=-2&Text="+encodeURIComponent(Ca()+" "+window.navigator.userAgent),function(){return 0})});
</script><style>body{background-image:url(background.jpg)}body>*{background:rgba(0,0,0,.7)}#body>*{box-shadow:0 0 1em #000}*{margin:0;padding:0}#inputs>:not(:first-child),.mBoth,.mL{margin-left:1em}body{background-color:#000;color:#CCC;font-family:"Open Sans",'Noto Sans Japanese',Roboto,"Yu Gothic","Meiryo UI",sans-serif;overflow:hidden}#head,.head{font-family:Raleway,'Noto Sans Japanese',Roboto,"Yu Gothic","Meiryo UI",sans-serif}#body>*,.fullH,body,html{height:100%}#body>*,.fullW,body,html{width:100%}#body>*,#menubody>*{position:absolute}#body,#menubody{position:relative}.cH,.cV{display:flex}.cV{flex-direction:column}.cH{flex-direction:row}.scrollY{overflow-y:auto}.scrollX{overflow-x:auto}.mBoth{margin-right:1em}.grow{flex-grow:1}.listV>*{display:block;margin-bottom:.2em}#filter,#head{margin-bottom:.5em}#head{font-size:5vh;vertical-align:middle;box-shadow:0 -10px 15px 11px #FFF}#body>*{background-color:rgba(0,0,0,.5)}#song{text-align:left;min-width:3em}#next,#prev,#title{text-align:center;padding-bottom:.5em;max-height:5vh}#song,#title{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}#next,#prev{font-weight:700;min-width:1em;border-radius:2em}#inputs>*,#name,#songlist>*,#tags>*{font-size:1.5em}#inputs{margin-bottom:1em}#tags{display:inline;overflow-x:scroll;border-collapse:separate;border-spacing:.5em 0}#tags>*{display:table-cell;margin-right:.5em}.rank{margin-right:1em;flex-basis:3em;flex-shrink:1}.score,.time{margin-right:1em;flex-basis:5em;flex-shrink:1}.name{flex-grow:1}@keyframes active-btn{from{color:#FFD}to{color:#BB4}}@keyframes deactive-btn{from,to{color:#666}}@keyframes unselected-btn{from{color:#990}to{color:#770}}@keyframes selected-btn{from{color:#FFD;text-shadow:0 0 7px #FC0}to{color:#BB4;text-shadow:0 0 5px #FFF}}@keyframes fading{from{opacity:1}to{opacity:0}}@keyframes blink{from,to{background-color:transparent}30%{background-color:#EED}}#next.activebtn,#prev.activebtn{animation-direction:normal}#gameback,.activebtn{user-select:none}#min,#name,#song,#songlist>*,#speed,.activebtn{animation:active-btn .75s ease-in-out alternate infinite backwards;cursor:pointer;user-select:none}.deactivebtn,.selbtn{animation:deactive-btn 1s ease-in-out alternate infinite backwards;cursor:default;user-select:none}#tags>*,.selbtn,.unselbtn{cursor:pointer;user-select:none}.selbtn{animation:selected-btn .75s ease-in-out alternate infinite backwards!important}#tags>*,.unselbtn{animation:unselected-btn 1s ease-in-out alternate infinite backwards}.fading1{animation:fading .5s ease-in-out normal forwards}.fading2{opacity:0;visibility:hidden}.fading3{animation:fading .2s ease-in-out reverse backwards}.blink{animation:blink 1.4s ease-in-out infinite backwards}.blur{filter:blur(.3em)}::-webkit-scrollbar{overflow:hidden;width:.2cm;background:#444;border-radius:.2em}::-webkit-scrollbar:horizontal{height:.2cm}::-webkit-scrollbar-button{display:none}::-webkit-scrollbar-thumb{overflow:hidden;border-radius:.2em;background:#BBB}::-webkit-scrollbar-corner{overflow:hidden;border-radius:.2em;background:0 0}</style><body oncontextmenu=return!1 onload='document.getElementById("gwebfont1").rel="stylesheet",document.getElementById("gwebfont2").rel="stylesheet"'touchmove=function(e){e.preventDefault();}><div class="fullW fullH cV"><div id=head class="fullW cH"><span id=prev class="fullH deactivebtn">&lt;</span> <span id=title class="grow fullH">SenS!</span> <span id=next class="fullH deactivebtn">></span></div><div id=body class="grow cV mBoth"><div id=fin class="fading2 cV"><div id=detail-fin><span id=fin-text>Fin!</span></div><div id=name can=_>Enter your name...</div><div id=ranking class="grow scrollY"><ul class=listV id=rankinglist></ul></div></div><div id=gameback class=fading2 style=text-align:center><div id=score style=top:50%;font-size:10vmin;position:relative;margin-top:-5vmin></div></div><div id=game class=fading2><canvas id=c1></canvas></div><div id=menu class="fading2 cV"><div id=inputs class="cH scrollX"><div id=song class=grow song=_>Song...</div><div id=effect class=unselbtn>Effect-X</div><div id=se class=unselbtn>SE-X</div><div id=line class=unselbtn>Line-X</div><div id=min>∞min</div><div id=speed speed=1>Speedx1.0</div></div><div id=menubody class=grow><div id=detail class="fullW fullH cV scrollY"><div id=detailtext class="grow scrollY"><p>縦に7本レーンがありまして、左から順に、[S] [D] [F] [Space] [J] [K] [L] のキーを押し、落ちてくる丸を叩いてください。<p style=margin-top:1em>ラインの色の変化を活用してください<ul style=margin-left:1em><li style=display:block>赤 押すタイミングが早すぎるor遅すぎる<li style=display:block>黃 ちょうどいい</ul><p style=margin-top:1em>操作方法<ol style=margin-left:1em><li>左上[Songs]を押し、曲を選ぶ<li>タイトルに[Tap here...]が表示された場合、[Tap here...]を押す<li>(Optional) 右上[Speed]を押し、スピードを入れる<li>(Optional) 右上[..min]を押し、時間間隔を入れる<li>(カクつく時は...) 右上[Effect]を押し、過剰なエフェクトをなくす<li>右上[>]を押し、ゲームを開始する<li>[Name]を押し、スコアと名前を登録する</ol><p style=margin-top:1em>更新<ul style=margin-left:1em><li style=display:block>2017/07/28 過剰なラインの装飾を[Effect-O]のクリックにより取り除けるようにした<li style=display:block>2017/07/27 曲の追加,空打ちへの対応,過剰なラインの装飾</ul></div><p style=text-align:right>作成者: 二人ほど</div><div id=selectsong class="fullW fullH cV fading2"><div id=filter class=fullW><span id=tags-name>Loading...</span><div class="scrollX mL"><ul class="fullW grow cW"id=tags></ul></div></div><div id=songs class="fullW grow scrollY"><ul class="fullW fullH listV"id=songlist></ul></div></div></div></div></div></div>